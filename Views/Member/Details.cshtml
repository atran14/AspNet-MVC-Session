@using System
@model AspNet_MVC_Session.Models.Member

@{
    ViewData["Title"] = "Member Details";
    List<Member> membersList = ViewBag.MembersList;
}

<h1>
    Member Details
</h1>
<hr />

<div id="accordion">

    @if (membersList.Count() == 0)
    {
        <div>There are no members in the list</div>
    }
    else
    {        
        @for (int i = 0; i < membersList.Count(); i++)
        {
            <div class="card">
                <div class="card-header" id=@($"heading{i}")>
                    <h5 class="mb-0">
                        <button class="btn btn-link" data-toggle="collapse" data-target=@($"#collapse{i}") aria-expanded="true"
                            aria-controls=@($"collapse{i}")>
                            @{
                                var currentMember = membersList[i];
                                <text>@($"{currentMember.LastName} {currentMember.FirstName}")</text>
                            }
                        </button>
                    </h5>
                </div>

                <div id=@($"collapse{i}") class="collapse" aria-labelledby=@($"heading{i}") data-parent="#accordion">
                    <div class="card-body">
                        <div>
                            <table>
                                <tbody>
                                    <tr>
                                        <th scope="row">
                                            @Html.DisplayNameFor(currentMember => currentMember.FirstName)
                                        </th>
                                        <td>
                                            @currentMember.FirstName
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">
                                            @Html.DisplayNameFor(currentMember => currentMember.LastName)
                                        </th>
                                        <td>
                                            @currentMember.LastName
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <th scope="row">
                                        @Html.DisplayNameFor(currentMember => currentMember.Gender)
                                        </th>
                                        <td>
                                        @currentMember.Gender
                                        </td>
                                    </tr>

                                    <tr>
                                        <th scope="row">
                                            @Html.DisplayNameFor(currentMember => currentMember.DOB)
                                        </th>
                                        <td>
                                            @currentMember.DOB.ToShortDateString()
                                        </td>
                                    </tr>

                                    <tr>
                                        <th scope="row">
                                            @Html.DisplayNameFor(currentMember => currentMember.PhoneNumber)
                                        </th>
                                        <td>
                                            @currentMember.PhoneNumber
                                        </td>
                                    </tr>

                                    <tr>
                                        <th scope="row">
                                            @Html.DisplayNameFor(currentMember => currentMember.BirthPlace)
                                        </th>
                                        <td>
                                            @currentMember.BirthPlace
                                        </td>
                                    </tr>

                                    <tr>
                                        <th scope="row">
                                            @Html.DisplayNameFor(currentMember => currentMember.StartDate)
                                        </th>
                                        <td>
                                            @currentMember.StartDate.ToShortDateString()
                                        </td>
                                    </tr>

                                    <tr>
                                        <th scope="row">
                                            @Html.DisplayNameFor(currentMember => currentMember.EndDate)
                                        </th>
                                        <td>
                                            @currentMember.EndDate.ToShortDateString()
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>                                                                        
                    </div>
                </div>
            </div>
        } 
    }
</div>

@* <div>
    <table class="table">
    <tbody>
    <tr>
    <th scope="row">
    @Html.DisplayNameFor(model => model.FirstName)
    </th>
    <td>
    @Html.DisplayFor(model => model.FirstName)
    </td>
    </tr>
    <tr>
    <th scope="row">
    @Html.DisplayNameFor(model => model.LastName)
    </th>
    <td>
    @Html.DisplayFor(model => model.LastName)
    </td>
    </tr>
    <tr>
    <th scope="row">
    @Html.DisplayNameFor(model => model.Gender)
    </th>
    <td>
    @Html.DisplayFor(model => model.Gender)
    </td>
    </tr>
    <tr>
    <th scope="row">
    @Html.DisplayNameFor(model => model.DOB)
    </th>
    <td>
    @Html.DisplayFor(model => model.DOB)
    </td>
    </tr>
    <tr>
    <th scope="row">
    @Html.DisplayNameFor(model => model.PhoneNumber)
    </th>
    <td>
    @Html.DisplayFor(model => model.PhoneNumber)
    </td>
    </tr>
    <tr>
    <th scope="row">
    @Html.DisplayNameFor(model => model.BirthPlace)
    </th>
    <td>
    @Html.DisplayFor(model => model.BirthPlace)
    </td>
    </tr>
    <tr>
    <th scope="row">
    @Html.DisplayNameFor(model => model.StartDate)
    </th>
    <td>
    @Html.DisplayFor(model => model.StartDate)
    </td>
    </tr>
    <tr>
    <th scope="row">
    @Html.DisplayNameFor(model => model.EndDate)
    </th>
    <td>
    @Html.DisplayFor(model => model.EndDate)
    </td>
    </tr>

    </tbody>
    </table>
    </div> *@